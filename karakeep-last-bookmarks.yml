- type: custom-api
  title: Karakeep Latest Bookmarks
  url: https://${KARAKEEP_URL}/api/v1/bookmarks?limit=10
  method: GET
  options:
    in-new-tab: true
  headers:
    Authorization: Bearer ${KARAKEEP_API_KEY}
    Accept: application/json
  template: |
    {{ $newTab := .Options.BoolOr "in-new-tab" false }}
    {{ $bookmarks := .JSON.Array "bookmarks" }}

    <ul class="list list-gap-10 collapsible-container" data-collapse-after="6" style="max-width: 100%; overflow-x: hidden; font-size: 1em; line-height: 1.3em; padding-left: 0; margin: 0;">
      {{ range $b := $bookmarks }}
        {{ $content := $b.Get "content" }}
        {{ $title := $content.String "title" }}
        {{ $url := $content.String "url" }}

        <li style="list-style: none; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
          <a href="{{ $url }}"
             {{ if $newTab }} target="_blank" rel="noopener"{{ end }}
             class="color-highlight" style="text-decoration: none; cursor: pointer;">
            {{ $title }}
          </a>
        </li>
      {{ end }}
    </ul>
