Only HTTP
        - type: custom-api
          title: Immich Memories “On This Day”
          cache: 1m
          options:
            base-url: ${IMMICH_URL_LOCAL}        # senza https://
          url: http://${IMMICH_URL_LOCAL}/api/memories?type=on_this_day
          method: GET
          headers:
            x-api-key: ${IMMICH_API_KEY}
            Accept: application/json
          template: |
              {{ $base := .Options.StringOr "base-url" "" }}
              {{ $found := false }}
              {{ $today := now | formatTime "2006-01-02" }}
              {{ $todayMD := slice $today 5 10 }}
              <style>
                .img-container img {
                  transition: transform 0.3s ease;
                  border-radius: 8px;
                  height: 100px;
                  width: auto;
                  display: block;
                  margin: 0 auto;
                }
                .img-container img:hover {
                  transform: scale(1.8);
                  z-index: 10;
                  position: relative;
                  box-shadow: 0 8px 16px rgba(0,0,0,0.3);
                }
                .container {
                  max-height: 400px; /* Contenitore più alto */
                  height: 200px;
                  padding: 10px;
                  display: flex;
                  overflow-x: auto;
                  gap: 10px;
                  align-items: center;
                  padding: 0;
                  margin: 0 auto;
                }
              </style>
              <div class="container" style="display: flex; overflow-x: auto; gap: 10px; height: 200px; align-items: center; padding: 10px;">
                {{ range $memory := .JSON.Array "" }}
                  {{ $showAt := $memory.String "showAt" }}
                  {{ $showAtMD := slice $showAt 5 10 }}
                  {{ if eq $showAtMD $todayMD }}
                    {{ range $asset := $memory.Array "assets" }}
                      {{ $id := $asset.String "id" }}
                      {{ $thumb := $asset.String "thumbhash" }}
                      {{ $fileName := $asset.String "originalFileName" }}
                      {{ $len := len $fileName }}
                      {{ if ge $len 4 }}
                        {{ $ext4 := slice $fileName (sub $len 4) $len }}
                        {{ $ext5 := "" }}
                        {{ if ge $len 5 }} {{ $ext5 = slice $fileName (sub $len 5) $len }} {{ end }}
                        {{ if and (ne $id "") (or (eq $ext4 ".jpg") (eq $ext4 ".png") (eq $ext5 ".jpeg") (eq $ext5 ".JPG")) }}
                          {{ $found = true }}
                          {{ $imgUrl := printf "http://%s/api/assets/%s/thumbnail?size=thumbnail&c=%s" $base $id $thumb }}
                          <div class="img-container" style="flex: 0 0 auto; width: 150px; text-align: center;">
                            <a href="http://{{ $base }}/memory?id={{ $id }}" target="_blank" rel="noopener noreferrer" style="display:inline-block; width:100%;">
                              <img
                                src="{{ $imgUrl | safeURL }}"
                                alt="{{ $fileName }}" />
                            </a>
                          </div>
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  {{ end }}
                {{ end }}
                {{ if not $found }}
                  <div>No JPG/JPEG memories found for today.</div>
                {{ end }}
              </div>
